<!-- popup.html — AmoNexus Status Dashboard -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="popup.css">
</head>

<body>
    <!-- Single glass panel — all content inside -->
    <div class="pm-panel">
        <!-- Hero Branding — centered icon + neon title -->
        <header class="pm-hero">
            <button id="open-web" class="pm-web-link" title="amonexus.com">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M2 12h20" />
                    <path
                        d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
                </svg>
            </button>
            <div class="pm-logo-wrap">
                <div class="pm-halo"></div>
                <img class="pm-logo" src="icons/icon128.png" alt="Amo">
            </div>
            <div class="pm-brand">
                <span class="pm-title">AmoNexus</span>
                <span class="pm-status" id="status-indicator" data-i18n="popup_status_active">Active</span>
            </div>
        </header>

        <div class="pm-divider"></div>

        <!-- Today's Stats -->
        <section class="pm-stats" id="today-stats">
            <div class="pm-stat">
                <span class="pm-stat-value" id="stat-pages">0</span>
                <span class="pm-stat-label" data-i18n="popup_stat_pages">pages read</span>
            </div>
            <div class="pm-stat">
                <span class="pm-stat-value" id="stat-highlights">0</span>
                <span class="pm-stat-label" data-i18n="popup_stat_highlights">highlights saved</span>
            </div>
            <div class="pm-stat">
                <span class="pm-stat-value" id="stat-connections">0</span>
                <span class="pm-stat-label" data-i18n="popup_stat_connections">connections found</span>
            </div>
        </section>

        <div class="pm-divider"></div>

        <!-- Quick Focus — idle (start) vs active (timer + stop) -->
        <section class="pm-focus" id="focus-section">
            <!-- Idle: show start button -->
            <div class="pm-focus-idle" id="focus-idle">
                <button class="pm-focus-btn" data-minutes="25">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10" />
                        <polyline points="12 6 12 12 16 14" />
                    </svg>
                    <span data-i18n="popup_focus_label">Focus</span> 25m
                </button>
            </div>
            <!-- Active: AmoLofi-style centered timer -->
            <div class="pm-focus-active hidden" id="focus-active">
                <div class="pm-focus-center">
                    <div class="pm-focus-timer">
                        <svg class="pm-focus-ring" width="80" height="80" viewBox="0 0 80 80">
                            <circle cx="40" cy="40" r="36" fill="none" stroke="rgba(255,255,255,0.08)"
                                stroke-width="3" />
                            <circle id="focus-ring-progress" cx="40" cy="40" r="36" fill="none" stroke="var(--primary)"
                                stroke-width="3" stroke-linecap="round" stroke-dasharray="226.19" stroke-dashoffset="0"
                                transform="rotate(-90 40 40)" />
                        </svg>
                        <span class="pm-focus-time" id="focus-time">25:00</span>
                    </div>
                    <span class="pm-focus-phase" id="focus-phase" data-i18n="popup_focus_work">Work</span>
                    <!-- 3 icon controls — matches AmoLofi HeroTimer -->
                    <div class="pm-focus-controls">
                        <button class="pm-ctrl pm-ctrl-sm" id="focus-reset" title="Reset">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.7)"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="1 4 1 10 7 10" />
                                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10" />
                            </svg>
                        </button>
                        <button class="pm-ctrl pm-ctrl-lg" id="focus-pause" title="Pause">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="6" y="4" width="4" height="16" />
                                <rect x="14" y="4" width="4" height="16" />
                            </svg>
                        </button>
                        <button class="pm-ctrl pm-ctrl-sm" id="focus-skip" title="Skip">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="rgba(255,255,255,0.7)"
                                stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polygon points="5 4 15 12 5 20 5 4" />
                                <line x1="19" y1="5" x2="19" y2="19" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <div class="pm-divider"></div>

        <!-- Primary CTA -->
        <button id="open-panel" class="pm-cta" data-i18n="popup_open_panel">Open Sidepanel &rarr;</button>

        <!-- Amo Lofi Quick Launch -->
        <button id="open-lofi" class="pm-lofi-btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 18V5l12-2v13" />
                <circle cx="6" cy="18" r="3" />
                <circle cx="18" cy="16" r="3" />
            </svg>
            <span data-i18n="popup_lofi_label">Amo Lofi</span> ↗
        </button>

        <div class="pm-divider"></div>

        <!-- Footer -->
        <footer class="pm-footer">
            <button id="btn-settings" class="pm-footer-link">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
                    <circle cx="12" cy="12" r="3" />
                </svg>
                <span data-i18n="popup_action_settings">Settings</span>
            </button>
            <div class="pm-toggle">
                <label for="master-toggle" data-i18n="popup_toggle_enabled">Enabled</label>
                <input type="checkbox" id="master-toggle" checked>
            </div>
        </footer>
    </div>

    <script src="utils_ui.js"></script>
    <script src="popup_minimal.js"></script>
</body>

</html>