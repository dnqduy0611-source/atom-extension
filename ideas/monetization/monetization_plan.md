# Monetization Plan: AmoNexus â€” Hybrid Distribution Strategy

**Version:** 3.0
**Date:** 2026-02-12
**Status:** Active
**Replaces:** v2.0 (Soft Launch only)

---

## 1. Bá»‘i cáº£nh & Váº¥n Ä‘á»

Chrome Web Store review máº¥t 1-7 ngÃ y má»—i láº§n update. Trong thá»i ká»³ vibe coding, tá»‘c Ä‘á»™ iteration lÃ  lá»£i tháº¿ cáº¡nh tranh â€” extension cáº§n update tá»«ng giá» Ä‘á»ƒ cáº£i thiá»‡n tráº£i nghiá»‡m.

**Giáº£i phÃ¡p:** DÃ¹ng **GitHub** lÃ m kÃªnh phÃ¢n phá»‘i chÃ­nh cho tá»‘c Ä‘á»™, nhÆ°ng giá»¯ **Chrome Web Store** cho mainstream user vÃ  monetization.

---

## 2. MÃ´ hÃ¬nh: Hybrid Distribution (Open Core)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               GITHUB (Nightly / Beta)                â”‚
â”‚                                                      â”‚
â”‚  â€¢ Báº£n má»›i nháº¥t, cáº­p nháº­t liÃªn tá»¥c                   â”‚
â”‚  â€¢ DÃ nh cho early adopter, power user, developer     â”‚
â”‚  â€¢ Code má»Ÿ, miá»…n phÃ­ hoÃ n toÃ n                       â”‚
â”‚  â€¢ User tá»± nháº­p API key (BYOK) â†’ báº¡n khÃ´ng tá»‘n gÃ¬   â”‚
â”‚  â€¢ KHÃ”NG cÃ³ managed AI key tá»« báº¡n                    â”‚
â”‚  â€¢ KhÃ´ng auto-update (tá»± táº£i zip má»›i)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         Gom báº£n á»•n Ä‘á»‹nh má»—i 1-2 tuáº§n
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            CHROME WEB STORE (Stable)                 â”‚
â”‚                                                      â”‚
â”‚  â€¢ Báº£n á»•n Ä‘á»‹nh, Ä‘Ã£ test ká»¹ qua beta                 â”‚
â”‚  â€¢ DÃ nh cho mainstream user                          â”‚
â”‚  â€¢ Auto-update, cÃ i 1 click                          â”‚
â”‚  â€¢ FREE: 10 AI calls/ngÃ y (managed key)              â”‚
â”‚  â€¢ PRO: unlimited AI + cloud sync ($4.99/thÃ¡ng)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Táº¡i sao mÃ´ hÃ¬nh nÃ y hoáº¡t Ä‘á»™ng

| KÃªnh | Vai trÃ² | Chi phÃ­ cho báº¡n | Thu nháº­p |
|---|---|---|---|
| **GitHub** | Marketing, community, beta test | **$0** (user dÃ¹ng BYOK) | $0 (cháº¥p nháº­n) |
| **CWS Free** | Má»Ÿ rá»™ng user base | Tháº¥p (~$30-50/1000 user) | $0 |
| **CWS Pro** | Nguá»“n thu chÃ­nh | User tráº£ tiá»n cover | **$4.99/thÃ¡ng/user** |

**Kiáº¿m tiá»n tá»« CONVENIENCE, khÃ´ng pháº£i tá»« CODE:**
- Code miá»…n phÃ­ â†’ tá»‘t cho trust, marketing, community
- Muá»‘n **tiá»‡n** (managed key + auto-update + cloud sync) â†’ tráº£ tiá»n
- Giá»‘ng mÃ´ hÃ¬nh: Bitwarden, Ghostery, GitLens

---

## 3. PhÃ¢n loáº¡i User & Tier

### 3.1 GitHub User (Power User / Developer)

| Äáº·c Ä‘iá»ƒm | Chi tiáº¿t |
|---|---|
| CÃ i Ä‘áº·t | Thá»§ cÃ´ng (load unpacked hoáº·c CRX) |
| Auto-update | âŒ â€” Extension tá»± check GitHub releases, nháº¯c user táº£i báº£n má»›i |
| AI calls | **BYOK only** (user tá»± dÃ¹ng API key cá»§a mÃ¬nh) |
| Táº¥t cáº£ features | âœ… Má»Ÿ háº¿t (code má»Ÿ, khÃ´ng gate) |
| Cloud Sync | âŒ (chá»‰ local) |
| Chi phÃ­ cho báº¡n | **$0** |

### 3.2 CWS Free User (Mainstream)

| Äáº·c Ä‘iá»ƒm | Chi tiáº¿t |
|---|---|
| CÃ i Ä‘áº·t | 1-click tá»« Chrome Web Store |
| Auto-update | âœ… |
| AI calls | **10/ngÃ y** (managed key, báº¡n tráº£ tiá»n) |
| Core features | âœ… Highlight, ghi chÃº, SRQ cÆ¡ báº£n |
| Pro features | ğŸ”’ Locked |
| Cloud Sync | âŒ |
| BYOK option | âœ… Náº¿u user tá»± nháº­p key â†’ unlimited, bypass daily limit |

### 3.3 CWS Pro User ($4.99/thÃ¡ng)

| Äáº·c Ä‘iá»ƒm | Chi tiáº¿t |
|---|---|
| CÃ i Ä‘áº·t | 1-click tá»« Chrome Web Store |
| Auto-update | âœ… |
| AI calls | **Unlimited** (managed key, fair use) |
| Táº¥t cáº£ features | âœ… |
| Cloud Sync | âœ… (Supabase) |
| Æ¯u tiÃªn support | âœ… |

### 3.4 TÃ­nh nÄƒng phÃ¢n theo Tier

| TÃ­nh nÄƒng | GitHub (BYOK) | CWS Free | CWS Pro |
|---|---|---|---|
| Highlight & ghi chÃº | âœ… | âœ… | âœ… |
| SRQ cÆ¡ báº£n (lÆ°u, xem) | âœ… | âœ… | âœ… |
| AI Chat / Explain / Summarize | âœ… (BYOK) | 10/ngÃ y | âœ… Unlimited |
| SRQ nÃ¢ng cao (liÃªn quan, analytics) | âœ… | ğŸ”’ | âœ… |
| NotebookLM Bridge | âœ… | âœ… | âœ… |
| Focus Timer | âœ… | âœ… | âœ… |
| Journal / Quick Diary | âœ… | âœ… | âœ… |
| Cloud Sync | âŒ | âŒ | âœ… |
| Priority Support | âŒ | âŒ | âœ… |

---

## 4. Kiáº¿n trÃºc Monetization

### 4.1 Server-side Gate (Quan trá»ng nháº¥t)

```
Extension (GitHub hoáº·c CWS)
        â†“
Proxy Server (Supabase Edge Function hoáº·c Cloudflare Worker)
        â†“
Kiá»ƒm tra: BYOK hay Managed key?
        â†“
   BYOK â†’ Gá»i tháº³ng Gemini API báº±ng key user
   Managed â†’ Kiá»ƒm tra subscription + daily limit â†’ Gá»i Gemini báº±ng key báº¡n
```

> [!IMPORTANT]
> **KhÃ´ng embedded API key trá»±c tiáº¿p trong extension.** Má»i managed AI call Ä‘á»u pháº£i Ä‘i qua proxy server. ÄÃ¢y lÃ  cÃ¡ch duy nháº¥t báº£o vá»‡ API key khi code má»Ÿ trÃªn GitHub.

### 4.2 Quota & Billing Service

**File:** `services/quota_service.js`

- `checkQuota()`: BYOK â†’ always true. Managed â†’ check daily limit + subscription
- `incrementQuota()`: TÄƒng counter sau má»—i AI call
- `getQuotaStatus()`: Tráº£ vá» `{ used, limit, isProUser, isByok }`

### 4.3 Subscription Check Flow

```
1. User má»Ÿ extension
2. Náº¿u Ä‘Ã£ login Supabase â†’ fetch profile.subscription_status
3. Náº¿u "active" hoáº·c "trialing" â†’ Pro tier
4. Náº¿u "free" hoáº·c chÆ°a login â†’ Free tier
5. Náº¿u BYOK key cÃ³ â†’ bypass managed key limit (nhÆ°ng Pro features váº«n locked náº¿u chÆ°a tráº£ tiá»n)
```

---

## 5. GitHub Auto-Update Notification

VÃ¬ GitHub khÃ´ng cÃ³ auto-update, extension sáº½ tá»± check:

```javascript
// Cháº¡y má»—i 6 giá» qua chrome.alarms
async function checkGitHubUpdate() {
  const res = await fetch('https://api.github.com/repos/OWNER/REPO/releases/latest');
  const latest = await res.json();
  const currentVersion = chrome.runtime.getManifest().version;

  if (latest.tag_name !== `v${currentVersion}`) {
    // Hiá»‡n notification nháº¹
    showUpdateBanner({
      message: `PhiÃªn báº£n má»›i ${latest.tag_name} Ä‘Ã£ cÃ³!`,
      url: latest.html_url
    });
  }
}
```

> [!NOTE]
> Chá»‰ Ã¡p dá»¥ng cho báº£n GitHub (sideloaded). PhÃ¡t hiá»‡n qua `chrome.management.getSelf()` â€” náº¿u `installType === 'development'` thÃ¬ lÃ  báº£n GitHub.

---

## 6. Chi phÃ­ váº­n hÃ nh

### 6.1 Gemini API (Managed key cho CWS user)

| Metric | GiÃ¡ trá»‹ |
|---|---|
| Model | `gemini-2.5-flash-lite` |
| Input cost | $0.075 / 1M tokens |
| Output cost | $0.30 / 1M tokens |
| Free user limit | 10 calls/ngÃ y |
| Pro user limit | Fair use (~100 calls/ngÃ y) |

### 6.2 Æ¯á»›c tÃ­nh chi phÃ­ theo user base

| User base | Free users (70%) | Pro users (5%) | Monthly AI cost | Monthly revenue |
|---|---|---|---|---|
| 100 | 70 | 5 | ~$5 | $25 |
| 1,000 | 700 | 50 | ~$40 | $250 |
| 10,000 | 7,000 | 500 | ~$300 | $2,500 |

> GitHub user dÃ¹ng BYOK â†’ chi phÃ­ $0 cho báº¡n, khÃ´ng tÃ­nh vÃ o báº£ng.

### 6.3 Proxy Server

| Option | Chi phÃ­ | Ghi chÃº |
|---|---|---|
| Supabase Edge Functions | Free (500K invocations/thÃ¡ng) | Äá»§ cho 10K users |
| Cloudflare Workers | Free (100K requests/ngÃ y) | Backup option |

---

## 7. Soft Launch Timeline

### Giai Ä‘oáº¡n 1: Foundation (Tuáº§n 1-2)

- [ ] Setup Proxy Server (Supabase Edge Function) Ä‘á»ƒ áº©n API key
- [ ] Implement `quota_service.js` (BYOK detection + daily limit)
- [ ] Implement GitHub update checker cho sideloaded builds
- [ ] ThÃªm banner "Early Access" trÃªn sidepanel/options
- [ ] Release báº£n Ä‘áº§u tiÃªn trÃªn GitHub

### Giai Ä‘oáº¡n 2: Trial (Tuáº§n 3-4)

- [ ] CWS Free user nháº­n 30 ngÃ y trial Pro (30 AI calls/ngÃ y)
- [ ] Track usage data: install_date, ai_calls_today, feature_usage
- [ ] UI: "ğŸ¥‚ Early Access Pro: X Days Left"
- [ ] Submit stable build lÃªn Chrome Web Store

### Giai Ä‘oáº¡n 3: Paywall (ThÃ¡ng 2+)

- [ ] TÃ­ch há»£p Lemon Squeezy cho payment
- [ ] Free tier giáº£m xuá»‘ng 10 calls/ngÃ y
- [ ] Pro tier $4.99/thÃ¡ng: unlimited + cloud sync
- [ ] UI: "Trial Expired â†’ Upgrade to Pro"

### Giai Ä‘oáº¡n 4: Growth (ThÃ¡ng 3+)

- [ ] PhÃ¢n tÃ­ch conversion rate (Free â†’ Pro)
- [ ] A/B test pricing ($3.99 vs $4.99 vs $6.99)
- [ ] ThÃªm annual plan (discount 20%)
- [ ] Referral program (má»i báº¡n bÃ¨ â†’ thÃªm ngÃ y Pro)

---

## 8. Rá»§i ro & Giáº£m thiá»ƒu

| Rá»§i ro | XÃ¡c suáº¥t | Giáº£m thiá»ƒu |
|---|---|---|
| User fork code, bá» paywall | Tháº¥p | Server-side gate. Client check chá»‰ lÃ  UX, khÃ´ng pháº£i security |
| User dÃ¹ng GitHub BYOK mÃ£i | Trung bÃ¬nh | OK â€” chi phÃ­ $0, há» váº«n lÃ  community contributor |
| API key bá»‹ scrape tá»« extension | Cao náº¿u embed | **DÃ¹ng proxy server, KHÃ”NG embed key** |
| CWS reject báº£n update | Trung bÃ¬nh | GitHub luÃ´n lÃ  fallback channel |
| User uninstall/reinstall reset trial | Tháº¥p | Cháº¥p nháº­n cho soft launch. Sau dÃ¹ng Supabase Auth Ä‘á»ƒ track |
| Conversion rate quÃ¡ tháº¥p | Trung bÃ¬nh | Äáº£m báº£o Pro features cÃ³ giÃ¡ trá»‹ rÃµ rÃ ng (AI unlimited + sync) |

---

## 9. Open Questions

- [ ] CÃ³ nÃªn báº¯t buá»™c login tá»« Ä‘áº§u? **Äá» xuáº¥t:** KhÃ´ng. Cho anonymous trial, báº¯t login khi muá»‘n sync hoáº·c mua Pro.
- [ ] License cho code trÃªn GitHub? **Äá» xuáº¥t:** MIT with Commons Clause (khÃ´ng Ä‘Æ°á»£c bÃ¡n láº¡i).
- [ ] Khi nÃ o báº¯t Ä‘áº§u bÃ¡n Pro? **Äá» xuáº¥t:** Sau khi cÃ³ Ã­t nháº¥t 100 active user vÃ  feedback tÃ­ch cá»±c.

---

## 10. Quyáº¿t Ä‘á»‹nh cáº§n chá»‘t

| # | Quyáº¿t Ä‘á»‹nh | Options | Äá» xuáº¥t |
|---|---|---|---|
| 1 | Proxy server | Supabase Edge Function vs Cloudflare Worker | Supabase (Ä‘Ã£ cÃ³ ecosystem) |
| 2 | Payment provider | Lemon Squeezy vs Stripe vs Paddle | Lemon Squeezy (dá»… setup, MoR) |
| 3 | GitHub license | MIT vs MIT+Commons Clause vs AGPL | MIT+Commons Clause |
| 4 | GiÃ¡ Pro | $3.99 / $4.99 / $6.99 | $4.99 (A/B test sau) |
| 5 | Trial duration | 14 / 30 / 60 ngÃ y | 30 ngÃ y |
